# Google OAuth Integration Plan

To implement "Sign in with Google", we will use the **@react-oauth/google** library on the frontend and verify tokens on the backend using **google-auth-library**. This is a secure and modern approach.

## 1. Prerequisites (User Action Required)
You will need a **Google Client ID**.
1.  Go to [Google Cloud Console](https://console.cloud.google.com/).
2.  Create a project -> API & Services -> Credentials.
3.  Create OAuth Client ID (Web Application).
4.  Add `http://localhost:5173` to **Authorized JavaScript origins**.
5.  I will use a placeholder `YOUR_GOOGLE_CLIENT_ID` which you must replace in the `.env` file I will create.

## 2. Backend Implementation
*   **Dependencies**: Install `google-auth-library` and `dotenv`.
*   **Database**: Update `Register` schema in [db.js](file:///Users/akshatrastogi/Desktop/expense-tracker/backend/db.js) to add an optional `googleId` field.
*   **API**: Add a new endpoint `POST /auth/google` in [index.js](file:///Users/akshatrastogi/Desktop/expense-tracker/backend/index.js).
    *   **Logic**:
        1.  Receive `token` from frontend.
        2.  Verify token with Google.
        3.  Check if user exists by email.
        4.  If yes, log them in (return JWT).
        5.  If no, create a new user (passwordless) and return JWT.

## 3. Frontend Implementation
*   **Dependencies**: Install `@react-oauth/google`.
*   **Configuration**: Wrap the `App` in `GoogleOAuthProvider` in [main.jsx](file:///Users/akshatrastogi/Desktop/expense-tracker/frontend/src/main.jsx).
*   **UI Components**:
    *   Update [Login.jsx](file:///Users/akshatrastogi/Desktop/expense-tracker/frontend/src/pages/Login.jsx) and [Register.jsx](file:///Users/akshatrastogi/Desktop/expense-tracker/frontend/src/pages/Register.jsx).
    *   Add a "Sign in with Google" button below the existing forms.
    *   Handle the success response by calling the new backend endpoint.

## 4. Environment Variables
*   Create `.env` in both backend and frontend to store the Google Client ID securely.

## 5. Verification
*   We will test the flow by attempting to "login" (mocking the Google response if necessary for local test, but real integration requires your Client ID).

Shall I proceed with installing the libraries and setting up the code structure?